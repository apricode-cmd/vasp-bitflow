---
description: "Frontend –∏ UI —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã"
globs: ["src/app/**/*.tsx", "src/components/**/*.tsx", "src/app/**/page.tsx", "src/app/**/layout.tsx"]
---

# Frontend Standards - Apricode Exchange

## ‚öõÔ∏è React & Next.js –ø—Ä–∞–≤–∏–ª–∞

### Server vs Client Components

**Server Components (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):**
```tsx
// ‚úÖ –ù–ï –Ω—É–∂–Ω–æ 'use client' –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
export default function OrdersPage() {
  // Fetch data –ø—Ä—è–º–æ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
  const orders = await prisma.order.findMany();
  
  return <OrdersList orders={orders} />;
}
```

**Client Components (—Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ):**
```tsx
'use client';

// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π –¥–ª—è:
// - useState, useEffect
// - Event handlers (onClick, onChange)
// - Browser APIs (localStorage, window)
// - Third-party interactive libraries

import { useState } from 'react';

export function BuyForm() {
  const [amount, setAmount] = useState('');
  // ...
}
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```tsx
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
import { type FC } from 'react';
import { Button } from '@/components/ui/button';

interface OrderCardProps {
  orderId: string;
  amount: number;
  status: OrderStatus;
  onCancel?: () => void;
}

/**
 * –ö–∞—Ä—Ç–æ—á–∫–∞ –∑–∞–∫–∞–∑–∞ —Å –∫—Ä–∞—Ç–∫–∏–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Å—Ç–∞—Ç—É—Å–æ–º
 */
export const OrderCard: FC<OrderCardProps> = ({ 
  orderId, 
  amount, 
  status,
  onCancel 
}) => {
  return (
    <div className="border rounded-lg p-4">
      {/* Component JSX */}
    </div>
  );
};

OrderCard.displayName = 'OrderCard';
```

## üé® Styling —Å Tailwind CSS

### –û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã
1. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ Tailwind —É—Ç–∏–ª–∏—Ç—ã
2. ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π inline styles (`style={{}}`)
3. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π `cn()` –¥–ª—è —É—Å–ª–æ–≤–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤
4. ‚úÖ Responsive: `sm:`, `md:`, `lg:`, `xl:`

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏

```tsx
import { cn } from '@/lib/utils';

// ‚úÖ –£—Å–ª–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã
<div className={cn(
  "base-class-always-applied",
  isActive && "active-state-class",
  variant === 'primary' && "primary-variant",
  className // –ø—Ä–æ–ø—Å –¥–ª—è –≤–Ω–µ—à–Ω–µ–π –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏
)} />

// ‚úÖ Responsive –¥–∏–∑–∞–π–Ω
<div className="w-full md:w-1/2 lg:w-1/3" />

// ‚úÖ –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
<div className="bg-white dark:bg-slate-900" />
```

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ –ø—Ä–æ–µ–∫—Ç–∞

```tsx
// –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞ (–∏–∑ Tailwind)
primary: "slate"     // slate-500, slate-600, slate-900
success: "green"     // green-500, green-600
error: "red"         // red-500, red-600
warning: "yellow"    // yellow-500, yellow-600

// –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
<Button className="bg-slate-600 hover:bg-slate-700" />
<Badge className="bg-green-100 text-green-800" />
```

## üìù –§–æ—Ä–º—ã (React Hook Form + Zod)

### –ü–∞—Ç—Ç–µ—Ä–Ω —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–æ—Ä–º—ã

```tsx
'use client';

import { useForm } from 'react-hook-form';
import { zodResolver } from '@hookform/resolvers/zod';
import { z } from 'zod';

// 1. –°–æ–∑–¥–∞–π Zod —Å—Ö–µ–º—É
const buyFormSchema = z.object({
  currency: z.enum(['BTC', 'ETH', 'USDT', 'SOL']),
  amount: z.number().positive('Amount must be positive'),
  walletAddress: z.string().min(26, 'Invalid wallet address'),
  fiatCurrency: z.enum(['EUR', 'PLN'])
});

type BuyFormData = z.infer<typeof buyFormSchema>;

// 2. –ò—Å–ø–æ–ª—å–∑—É–π –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
export function BuyForm() {
  const form = useForm<BuyFormData>({
    resolver: zodResolver(buyFormSchema),
    defaultValues: {
      currency: 'BTC',
      fiatCurrency: 'EUR'
    }
  });

  const onSubmit = async (data: BuyFormData) => {
    try {
      const response = await fetch('/api/orders', {
        method: 'POST',
        body: JSON.stringify(data)
      });
      
      if (!response.ok) throw new Error('Failed to create order');
      
      // Success handling
    } catch (error) {
      // Error handling
    }
  };

  return (
    <form onSubmit={form.handleSubmit(onSubmit)}>
      {/* Form fields */}
    </form>
  );
}
```

### –†–∞–±–æ—Ç–∞ —Å –ø–æ–ª—è–º–∏ —Ñ–æ—Ä–º—ã

```tsx
import { 
  Form, 
  FormControl, 
  FormField, 
  FormItem, 
  FormLabel, 
  FormMessage 
} from '@/components/ui/form';

<Form {...form}>
  <FormField
    control={form.control}
    name="amount"
    render={({ field }) => (
      <FormItem>
        <FormLabel>Amount (EUR)</FormLabel>
        <FormControl>
          <Input 
            type="number" 
            placeholder="1000" 
            {...field}
            onChange={(e) => field.onChange(parseFloat(e.target.value))}
          />
        </FormControl>
        <FormMessage />
      </FormItem>
    )}
  />
</Form>
```

## üîî UI Feedback (Toasts, Loading, Errors)

### Success & Error feedback

```tsx
import { toast } from 'sonner';

// ‚úÖ Success
toast.success('Order created successfully!');

// ‚ùå Error
toast.error('Failed to create order', {
  description: 'Please try again later'
});

// ‚ö†Ô∏è Warning
toast.warning('KYC verification required');

// ‚ÑπÔ∏è Info
toast.info('Processing your request...');
```

### Loading states

```tsx
'use client';

import { useState } from 'react';
import { Button } from '@/components/ui/button';

export function SubmitButton() {
  const [isLoading, setIsLoading] = useState(false);

  const handleSubmit = async () => {
    setIsLoading(true);
    try {
      await submitOrder();
    } finally {
      setIsLoading(false);
    }
  };

  return (
    <Button disabled={isLoading} onClick={handleSubmit}>
      {isLoading ? 'Processing...' : 'Submit Order'}
    </Button>
  );
}
```

### Suspense –≥—Ä–∞–Ω–∏—Ü—ã

```tsx
import { Suspense } from 'react';
import { Skeleton } from '@/components/ui/skeleton';

export default function OrdersPage() {
  return (
    <Suspense fallback={<OrdersSkeleton />}>
      <OrdersList />
    </Suspense>
  );
}

function OrdersSkeleton() {
  return (
    <div className="space-y-4">
      {[1, 2, 3].map(i => (
        <Skeleton key={i} className="h-24 w-full" />
      ))}
    </div>
  );
}
```

## üß© shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```bash
# –ò—Å–ø–æ–ª—å–∑—É–π CLI –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
npx shadcn-ui@latest add button
npx shadcn-ui@latest add card
npx shadcn-ui@latest add dialog
```

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```tsx
// ‚ùå –ù–ï –∏–∑–º–µ–Ω—è–π —Ñ–∞–π–ª—ã –≤ components/ui –Ω–∞–ø—Ä—è–º—É—é

// ‚úÖ –°–æ–∑–¥–∞–≤–∞–π –æ–±—ë—Ä—Ç–∫–∏ –¥–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏
import { Button } from '@/components/ui/button';

export function PrimaryButton({ children, ...props }) {
  return (
    <Button 
      className="bg-slate-600 hover:bg-slate-700" 
      {...props}
    >
      {children}
    </Button>
  );
}
```

## üìç Navigation & Routing

### Link –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

```tsx
import Link from 'next/link';

// ‚úÖ –î–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å—Å—ã–ª–æ–∫
<Link href="/orders">View Orders</Link>

// ‚úÖ –î–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å—Å—ã–ª–æ–∫
<a href="https://kycaid.com" target="_blank" rel="noopener noreferrer">
  KYC Provider
</a>

// ‚úÖ –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
'use client';
import { useRouter } from 'next/navigation';

const router = useRouter();
router.push('/dashboard');
router.back();
router.refresh(); // Revalidate data
```

## üîê Protected Routes

### Client-side protection

```tsx
'use client';

import { useSession } from 'next-auth/react';
import { redirect } from 'next/navigation';

export function ProtectedPage() {
  const { data: session, status } = useSession();
  
  if (status === 'loading') return <div>Loading...</div>;
  if (!session) redirect('/login');
  
  return <div>Protected content</div>;
}
```

### Middleware protection (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ)

```tsx
// src/middleware.ts
// Middleware –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—â–∏—â–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç—ã
export { default } from 'next-auth/middleware';

export const config = {
  matcher: ['/dashboard/:path*', '/buy/:path*', '/orders/:path*']
};
```

## üíÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### Compound Components

```tsx
// ‚úÖ –°–æ–∑–¥–∞–≤–∞–π —Å–æ—Å—Ç–∞–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏
export function Card({ children, className }) {
  return <div className={cn("rounded-lg border", className)}>{children}</div>;
}

Card.Header = function CardHeader({ children }) {
  return <div className="p-6 pb-4">{children}</div>;
};

Card.Body = function CardBody({ children }) {
  return <div className="p-6 pt-0">{children}</div>;
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
<Card>
  <Card.Header>Title</Card.Header>
  <Card.Body>Content</Card.Body>
</Card>
```

### Render Props & Children as Function

```tsx
// ‚úÖ –î–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π –ª–æ–≥–∏–∫–∏
interface DataFetcherProps<T> {
  url: string;
  children: (data: T | null, isLoading: boolean, error: Error | null) => ReactNode;
}

export function DataFetcher<T>({ url, children }: DataFetcherProps<T>) {
  const [data, setData] = useState<T | null>(null);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState<Error | null>(null);
  
  // Fetch logic...
  
  return <>{children(data, isLoading, error)}</>;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
<DataFetcher url="/api/orders">
  {(orders, isLoading, error) => {
    if (isLoading) return <div>Loading...</div>;
    if (error) return <div>Error: {error.message}</div>;
    return <OrdersList orders={orders} />;
  }}
</DataFetcher>
```

## üì± Responsive –¥–∏–∑–∞–π–Ω

### Mobile-first –ø–æ–¥—Ö–æ–¥

```tsx
// ‚úÖ –ù–∞—á–∏–Ω–∞–π —Å mobile, —Ä–∞—Å—à–∏—Ä—è–π –¥–ª—è –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤
<div className="
  w-full           // mobile
  md:w-1/2         // tablet
  lg:w-1/3         // desktop
  xl:w-1/4         // large desktop
">
  Content
</div>

// ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
  {/* Cards */}
</div>
```

## ‚ôø Accessibility (A11y)

### –í—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–∞–π:

1. **Aria labels** –¥–ª—è –∏–∫–æ–Ω–æ—á–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫
2. **Alt text** –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
3. **Keyboard navigation** (tabindex, focus states)
4. **Semantic HTML** (header, nav, main, section, article)

```tsx
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
<button aria-label="Close dialog" onClick={onClose}>
  <X className="h-4 w-4" />
</button>

<img src="/logo.png" alt="Apricode Exchange Logo" />

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
<div onClick={onClose}>Close</div> // –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å button
<img src="/logo.png" /> // missing alt
```

## üö´ –ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã (–ù–ï –¥–µ–ª–∞–π —Ç–∞–∫)

```tsx
// ‚ùå Inline styles
<div style={{ color: 'red' }}>Error</div>

// ‚ùå –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (>200 —Å—Ç—Ä–æ–∫)
// –†–∞–∑–±–∏–≤–∞–π –Ω–∞ –ø–æ–¥–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã!

// ‚ùå –ü—Ä—è–º–∞—è –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—è DOM
document.getElementById('element').classList.add('active');

// ‚ùå any types
const handleSubmit = (data: any) => { ... }

// ‚ùå –ù–µ –∑–∞–±—ã–≤–∞–π displayName –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
export const MyComponent = () => { ... }
// ‚úÖ –î–æ–±–∞–≤—å:
MyComponent.displayName = 'MyComponent';

// ‚ùå Unused imports
import { useState, useEffect, useCallback } from 'react'; // –µ—Å–ª–∏ –Ω–µ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
```

## üìè –†–∞–∑–º–µ—Ä—ã –∏ –æ—Ç—Å—Ç—É–ø—ã (Spacing)

```tsx
// ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã
padding: p-4, p-6, p-8     // 1rem, 1.5rem, 2rem
margin: m-4, m-6, m-8
gap: gap-4, gap-6, gap-8

// ‚úÖ Container
<div className="container mx-auto px-4">
  {/* Content centered with padding */}
</div>

// ‚úÖ Section spacing
<section className="py-12 md:py-16 lg:py-20">
  {/* Responsive vertical spacing */}
</section>
```

---

**–ü–æ–º–Ω–∏:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç –ø—Ä–µ–≤—ã—à–µ –≤—Å–µ–≥–æ. –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞, –ø–æ–Ω—è—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å.
