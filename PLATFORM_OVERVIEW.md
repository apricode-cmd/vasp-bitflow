# ğŸ¢ Apricode Exchange - Enterprise Cryptocurrency Platform

<div align="center">

![Version](https://img.shields.io/badge/version-2.0-blue.svg)
![Status](https://img.shields.io/badge/status-Production-success.svg)
![Next.js](https://img.shields.io/badge/Next.js-14-black.svg)
![TypeScript](https://img.shields.io/badge/TypeScript-5.5-blue.svg)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15-blue.svg)

**Enterprise-Grade Cryptocurrency Exchange Platform with Full Compliance & Advanced CRM**

ğŸŒ [Live Demo](https://app.bitflow.biz) â€¢ ğŸ“š [Documentation](#documentation) â€¢ ğŸ” [Security](#security) â€¢ ğŸš€ [Features](#features)

</div>

---

## ğŸ“‹ Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ

- [Ğ ĞŸĞ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğµ](#-Ğ¾-Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğµ)
- [ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸](#-ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ-Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸)
- [ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°](#-Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°)
- [Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¡Ñ‚ĞµĞº](#-Ñ‚ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹-ÑÑ‚ĞµĞº)
- [Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ](#-Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ-Ğ¸-ĞºĞ¾Ğ¼Ğ¿Ğ»Ğ°ĞµĞ½Ñ)
- [Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ĞœĞ¾Ğ´ÑƒĞ»Ğ¸](#-Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ-Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸)
- [Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸](#-Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸)
- [Ğ”Ğ¾Ñ€Ğ¾Ğ¶Ğ½Ğ°Ñ ĞšĞ°Ñ€Ñ‚Ğ°](#-Ğ´Ğ¾Ñ€Ğ¾Ğ¶Ğ½Ğ°Ñ-ĞºĞ°Ñ€Ñ‚Ğ°)
- [Deployment](#-deployment)

---

## ğŸ¯ Ğ ĞŸĞ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğµ

**Apricode Exchange** - ÑÑ‚Ğ¾ ĞºĞ¾Ğ¼Ğ¿Ğ»ĞµĞºÑĞ½Ğ°Ñ enterprise-Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ° Ğ´Ğ»Ñ Ğ¿Ğ¾ĞºÑƒĞ¿ĞºĞ¸ ĞºÑ€Ğ¸Ğ¿Ñ‚Ğ¾Ğ²Ğ°Ğ»ÑÑ‚Ñ‹ Ğ·Ğ° Ñ„Ğ¸Ğ°Ñ‚Ğ½Ñ‹Ğµ Ğ´ĞµĞ½ÑŒĞ³Ğ¸ Ñ Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ¹ KYC Ğ²ĞµÑ€Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸ĞµĞ¹ Ğ¸ Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ CRM-Ğ¿Ğ°Ğ½ĞµĞ»ÑŒÑ Ğ´Ğ»Ñ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ².

### ğŸŒŸ ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Apricode Exchange?

| Ğ¥Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ¸ÑÑ‚Ğ¸ĞºĞ° | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|---------------|----------|
| âœ… **Production Ready** | Ğ£ÑĞ¿ĞµÑˆĞ½Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ² Ğ¿Ñ€Ğ¾Ğ´Ğ°ĞºÑˆĞµĞ½Ğµ ([app.bitflow.biz](https://app.bitflow.biz), [app.payplanet.pl](https://app.payplanet.pl)) |
| ğŸ” **Enterprise Security** | Multi-factor authentication, Passkeys (WebAuthn), Step-up MFA, RBAC |
| ğŸ“Š **Professional CRM** | ĞŸĞ¾Ğ»Ğ½Ğ¾Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ°Ğ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ Ñ 100+ Ñ„ÑƒĞ½ĞºÑ†Ğ¸ÑĞ¼Ğ¸ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ |
| ğŸ¯ **Compliance First** | Mandatory KYC/AML, comprehensive audit logging, Ñ€ĞµĞ³ÑƒĞ»ÑÑ‚Ğ¾Ñ€Ğ½Ğ°Ñ Ğ¾Ñ‚Ñ‡ĞµÑ‚Ğ½Ğ¾ÑÑ‚ÑŒ |
| ğŸ—ï¸ **Scalable Architecture** | ĞœĞ¾Ğ´ÑƒĞ»ÑŒĞ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°, Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑĞ½Ğ°Ñ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ, horizontal scaling |
| ğŸ”Œ **Integration Ready** | Sumsub, KYCAID, CoinGecko, Tatum, Resend, 20+ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ñ… Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¹ |
| ğŸ¨ **White-Label Ready** | ĞŸĞ¾Ğ»Ğ½Ğ°Ñ ĞºĞ°ÑÑ‚Ğ¾Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ±Ñ€ĞµĞ½Ğ´Ğ¸Ğ½Ğ³Ğ°, Ğ¼ÑƒĞ»ÑŒÑ‚Ğ¸ÑĞ·Ñ‹Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ, Ğ²Ğ¸Ğ´Ğ¶ĞµÑ‚Ñ‹ |
| ğŸ“ˆ **Advanced Analytics** | Real-time Ğ´Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´Ñ‹, Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°, Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ |

---

## ğŸš€ ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸

### ğŸ‘¥ Ğ”Ğ»Ñ ĞšĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²

#### ğŸ” ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ¸ Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ
```
âœ“ Email/Password Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ½Ğ¾Ğ¼
âœ“ Two-Factor Authentication (TOTP, Google Authenticator)
âœ“ Passkey Support (WebAuthn/FIDO2) - Ğ±Ğ¸Ğ¾Ğ¼ĞµÑ‚Ñ€Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
âœ“ Secure session management (JWT, 30 Ğ´Ğ½ĞµĞ¹)
âœ“ Password recovery Ñ email Ğ²ĞµÑ€Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸ĞµĞ¹
âœ“ Device fingerprinting Ğ¸ fraud detection
```

#### ğŸ“‹ KYC Ğ’ĞµÑ€Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
```
âœ“ ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ KYC Ğ¿ĞµÑ€ĞµĞ´ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¹ Ğ¿Ğ¾ĞºÑƒĞ¿ĞºĞ¾Ğ¹
âœ“ Multi-Provider Support: Sumsub, KYCAID
âœ“ Document Upload Ñ camera capture Ğ½Ğ° Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ…
âœ“ AI-powered verification (liveness detection, document OCR)
âœ“ Real-time status tracking Ğ² Ğ»Ğ¸Ñ‡Ğ½Ğ¾Ğ¼ ĞºĞ°Ğ±Ğ¸Ğ½ĞµÑ‚Ğµ
âœ“ Webhook integration Ğ´Ğ»Ñ Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ñ‹Ñ… Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğ¹
âœ“ Resubmission flow Ğ´Ğ»Ñ Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº (RETRY/FINAL)
âœ“ QR code Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ñ…Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ñ KYC Ğ½Ğ° Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ¼ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğµ
```

#### ğŸ’° ĞŸĞ¾ĞºÑƒĞ¿ĞºĞ° ĞšÑ€Ğ¸Ğ¿Ñ‚Ğ¾Ğ²Ğ°Ğ»ÑÑ‚Ñ‹
```
ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµĞ¼Ñ‹Ğµ ĞšÑ€Ğ¸Ğ¿Ñ‚Ğ¾Ğ²Ğ°Ğ»ÑÑ‚Ñ‹:
â€¢ Bitcoin (BTC)
â€¢ Ethereum (ETH) + ERC-20 Ñ‚Ğ¾ĞºĞµĞ½Ñ‹
â€¢ Tether (USDT) - ERC-20, TRC-20, BEP-20
â€¢ Solana (SOL)
â€¢ Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ»ÑĞ±Ñ‹Ñ… Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… Ğ¼Ğ¾Ğ½ĞµÑ‚ Ğ¸ Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ²

Ğ¤Ğ¸Ğ°Ñ‚Ğ½Ñ‹Ğµ Ğ’Ğ°Ğ»ÑÑ‚Ñ‹:
â€¢ EUR (Euro)
â€¢ PLN (Polish Zloty)
â€¢ Ğ Ğ°ÑÑˆĞ¸Ñ€ÑĞµĞ¼Ğ¾ Ğ½Ğ° Ğ»ÑĞ±Ñ‹Ğµ Ğ²Ğ°Ğ»ÑÑ‚Ñ‹

ĞÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸:
âœ“ Real-time exchange rates (CoinGecko, Kraken, Binance)
âœ“ Transparent pricing Ñ 1.5% platform fee
âœ“ Flexible limits Ğ¿Ğ¾ ÑƒÑ€Ğ¾Ğ²Ğ½ÑĞ¼ KYC
âœ“ Manual rate overrides Ğ´Ğ»Ñ ÑĞ¿ĞµÑ†Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¹
âœ“ Rate caching Ğ´Ğ»Ñ ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸
âœ“ Historical rate tracking
```

#### ğŸ“Š Ğ›Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ ĞšĞ°Ğ±Ğ¸Ğ½ĞµÑ‚
```
âœ“ Order history Ñ Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸ĞµĞ¹
âœ“ Transaction timeline (Ğ²ÑĞµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ¾Ğ²)
âœ“ Wallet management (Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ, Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ°Ğ´Ñ€ĞµÑĞ¾Ğ²)
âœ“ KYC status monitoring
âœ“ Profile management (personal info, security settings)
âœ“ Real-time notifications (email + in-app)
âœ“ Invoice generation Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ğ¿Ğ¾ĞºÑƒĞ¿Ğ¾Ğº
âœ“ Payment proof upload
```

---

### ğŸ‘¨â€ğŸ’¼ Ğ”Ğ»Ñ ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ²

#### ğŸ“ˆ CRM Dashboard
```
Real-time Statistics:
â€¢ Total Orders (lifetime, today, week, month)
â€¢ Revenue metrics (EUR, PLN, BTC equivalent)
â€¢ Active Users (registered, verified, buyers)
â€¢ KYC Statistics (pending, approved, rejected, conversion rate)
â€¢ System health (integration status, uptime)

Interactive Features:
âœ“ Recent Activity Feed (Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ 20 ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹)
âœ“ Performance Indicators (conversion rates, avg processing time)
âœ“ Action Center (pending approvals, alerts)
âœ“ Interactive Charts (revenue trends, order volumes)
âœ“ Quick Navigation (8 fast-access cards)
âœ“ Auto-refresh ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 30 ÑĞµĞºÑƒĞ½Ğ´
```

#### ğŸ› ï¸ Order Management
```
Kanban Board View:
âœ“ Drag-and-drop ÑÑ‚Ğ°Ñ‚ÑƒÑÑ‹ (NEW â†’ PENDING â†’ CONFIRMED â†’ PROCESSING â†’ COMPLETED)
âœ“ Visual workflow Ñ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸ĞµĞ¹ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¾Ğ²
âœ“ Bulk operations (cancel, export)
âœ“ Search Ğ¸ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹ Ğ¿Ğ¾ Ğ²ÑĞµĞ¼ Ğ¿Ğ¾Ğ»ÑĞ¼
âœ“ Color-coded ÑÑ‚Ğ°Ñ‚ÑƒÑÑ‹
âœ“ Transaction count per column

Table View:
âœ“ Advanced filters (status, date range, currency, amount)
âœ“ Multi-column sorting
âœ“ Pagination (10/25/50/100 per page)
âœ“ Export to CSV/Excel
âœ“ Bulk select Ğ¸ actions
âœ“ Custom column visibility

Order Details Page:
âœ“ Complete order information (amount, rates, fees, wallets)
âœ“ Transaction history timeline
âœ“ Payment proof viewer
âœ“ Status change history
âœ“ Admin notes (internal comments)
âœ“ TX hash management
âœ“ Manual status overrides Ñ audit trail
```

#### ğŸ‘¥ User Management
```
âœ“ Complete user profiles (personal info, KYC status, order history)
âœ“ Block/Unblock users Ñ Ğ¿Ñ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°Ğ¼Ğ¸
âœ“ Activity tracking (login history, IP addresses)
âœ“ Order history per user
âœ“ KYC document review
âœ“ User segmentation (by KYC level, activity, volume)
âœ“ Bulk email notifications
```

#### ğŸ” Admin Management (IAM)
```
Role-Based Access Control (RBAC):
â€¢ SUPER_ADMIN - full access
â€¢ ADMIN - standard administrator
â€¢ COMPLIANCE - compliance officer
â€¢ TREASURY_APPROVER - payment approvals
â€¢ FINANCE - financial operations
â€¢ SUPPORT - customer support
â€¢ READ_ONLY - view-only access

Permissions System:
âœ“ Granular permissions (resource.action)
âœ“ Dynamic permission checking
âœ“ Role-Permission mapping
âœ“ Separation of Duties (SoD)
  - Different admins for payout initiation/approval
  - 4-eyes principle Ğ´Ğ»Ñ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹

Security Features:
âœ“ WebAuthn/Passkeys (FIDO2 authentication)
âœ“ TOTP (Google Authenticator)
âœ“ Backup codes Ğ´Ğ»Ñ recovery
âœ“ Step-up MFA Ğ´Ğ»Ñ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹
âœ“ Session management (view active sessions, revoke)
âœ“ IP whitelisting
âœ“ Emergency break-glass access
âœ“ Password rotation policies
```

#### ğŸ“‹ KYC Management
```
âœ“ KYC queue (pending, reviewing)
âœ“ Document viewer (ID cards, passports, proof of address)
âœ“ Approve/Reject workflow Ñ Ğ¿Ñ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°Ğ¼Ğ¸
âœ“ Bulk operations
âœ“ Provider integration status
âœ“ Resubmission tracking (attempt counts)
âœ“ Manual override Ğ´Ğ»Ñ special cases
âœ“ Export KYC data Ğ´Ğ»Ñ compliance
âœ“ AML screening integration
```

#### ğŸ›ï¸ System Configuration
```
ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ CRUD Ğ´Ğ»Ñ Ğ²ÑĞµÑ… ÑĞ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ²:
âœ“ Cryptocurrencies (Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ, symbol, logo, blockchain networks)
âœ“ Fiat Currencies (ĞºĞ¾Ğ´, symbol, exchange rates)
âœ“ Trading Pairs (crypto + fiat, min/max limits, status)
âœ“ Rate Providers (CoinGecko, Kraken, Binance, priority)
âœ“ Fee Profiles (Standard, VIP, custom)
âœ“ KYC Levels (L0, L1, L2, limits matrix)
âœ“ Payment Methods (bank transfer, cards, crypto)
âœ“ Platform Wallets (BTC, ETH, USDT addresses)
âœ“ PSP Connectors (TPay, Stripe, Manual)
âœ“ Widgets (theme, logo, supported pairs)
âœ“ Legal Documents (T&C, Privacy Policy, AML Policy)
âœ“ Email Templates (welcome, KYC approved, order confirmed)

Integration Management:
âœ“ KYC Providers (KYCAID, Sumsub)
âœ“ Rate Providers (API key management, test connection)
âœ“ Email Service (Resend configuration)
âœ“ Blockchain Providers (Tatum, Infura)
âœ“ Payment Gateways
âœ“ Analytics & Monitoring

Manual Overrides:
âœ“ Manual rates (set custom exchange rates)
âœ“ Fee overrides per user/order
âœ“ Limit adjustments
âœ“ Status force-change Ñ audit trail
```

#### ğŸ“Š Analytics & Reporting
```
âœ“ Revenue reports (daily, weekly, monthly, yearly)
âœ“ Order volume analytics
âœ“ Conversion funnel analysis
âœ“ KYC conversion rates
âœ“ Payment method statistics
âœ“ Currency popularity metrics
âœ“ User retention analytics
âœ“ Export to CSV/Excel/PDF
```

#### ğŸ” Audit & Compliance
```
Comprehensive Audit Logging:
â€¢ AdminAuditLog - Ğ²ÑĞµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ²
â€¢ UserAuditLog - Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²
â€¢ KYC API Logs - Ğ²ÑĞµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ Ğº KYC Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ğ°Ğ¼ (request/response/timing)
â€¢ Webhook Logs - Ğ²ÑĞµ Ğ²Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğµ webhooks
â€¢ SystemLog - Ñ‚ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ

Ğ§Ñ‚Ğ¾ Ğ»Ğ¾Ğ³Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ:
âœ“ Who (actorType, actorId, actorEmail, actorRole)
âœ“ What (action, entityType, entityId)
âœ“ When (timestamp, timezone)
âœ“ Where (ipAddress, userAgent)
âœ“ Changes (diffBefore, diffAfter)
âœ“ Context (metadata, reason, MFA verification)
âœ“ Performance (API response times, slow queries)

Audit Features:
âœ“ Complete timeline visualization
âœ“ Search Ğ¸ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹ Ğ¿Ğ¾ Ğ²ÑĞµĞ¼ Ğ¿Ğ¾Ğ»ÑĞ¼
âœ“ Export Ğ´Ğ»Ñ Ñ€ĞµĞ³ÑƒĞ»ÑÑ‚Ğ¾Ñ€Ğ¾Ğ²
âœ“ Immutable logs (freeze checksum, SHA-256)
âœ“ Long-term retention (GDPR compliant)
```

#### ğŸ¤– Workflow Automation Engine
```
Visual No-Code Rule Engine:
âœ“ Drag-and-drop canvas (React Flow)
âœ“ Node types: Trigger, Condition, Action
âœ“ 7 trigger types (ORDER_CREATED, PAYIN_RECEIVED, KYC_APPROVED, etc.)
âœ“ 8 action types (FREEZE_ORDER, REJECT_TRANSACTION, SEND_EMAIL, etc.)
âœ“ JSON Logic compiler (graph â†’ executable logic)
âœ“ Real-time validation
âœ“ Test panel Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ»Ğ°Ğ´ĞºĞ¸

Execution Engine:
âœ“ Non-blocking execution
âœ“ Priority ordering
âœ“ Error handling & retry logic
âœ“ Execution history tracking
âœ“ Performance metrics
âœ“ Webhook triggers

Use Cases:
â€¢ Fraud detection (freeze suspicious orders)
â€¢ Auto-approval workflows (trusted users)
â€¢ Risk management (transaction limits)
â€¢ Compliance automation (AML checks)
â€¢ Customer notifications (custom triggers)
```

---

## ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

### System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Frontend Layer                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Next.js 14 App Router (React Server Components)               â”‚
â”‚  â€¢ Client Portal (/app/(client))                               â”‚
â”‚  â€¢ Admin CRM (/app/(admin))                                    â”‚
â”‚  â€¢ Public API Documentation (/app/(public)/docs)               â”‚
â”‚  â€¢ Shared Components (/components)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      API Layer (100+ endpoints)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  /api/auth/*          - Authentication (NextAuth v5)           â”‚
â”‚  /api/kyc/*           - KYC operations                         â”‚
â”‚  /api/orders/*        - Order management                       â”‚
â”‚  /api/admin/*         - Admin operations                       â”‚
â”‚  /api/webhooks/*      - External webhooks                      â”‚
â”‚  /api/v1/*            - Public API v1                          â”‚
â”‚  /api/workflows/*     - Automation engine                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Business Logic Layer                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Services:                                                      â”‚
â”‚  â€¢ kyc.service.ts           - KYC orchestration                â”‚
â”‚  â€¢ order.service.ts         - Order processing                 â”‚
â”‚  â€¢ audit.service.ts         - Audit logging                    â”‚
â”‚  â€¢ integration.service.ts   - External integrations            â”‚
â”‚  â€¢ workflow.service.ts      - Automation engine                â”‚
â”‚  â€¢ rate.service.ts          - Exchange rates                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Data Layer                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Prisma ORM â†’ PostgreSQL 15                                    â”‚
â”‚  â€¢ 40+ models, 2000+ lines schema                              â”‚
â”‚  â€¢ 100+ indexes for optimization                               â”‚
â”‚  â€¢ Full referential integrity                                  â”‚
â”‚  â€¢ Row-level security ready                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    External Integrations                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  KYC:          Sumsub, KYCAID                                  â”‚
â”‚  Rates:        CoinGecko, Kraken, Binance                      â”‚
â”‚  Email:        Resend                                           â”‚
â”‚  Blockchain:   Tatum, Infura, QuickNode                        â”‚
â”‚  Storage:      Vercel Blob                                      â”‚
â”‚  Monitoring:   Sentry, LogTail                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Database Schema Overview

```sql
-- 40+ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†, Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ¾ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑĞ¼:

Core (Identity & Access):
â€¢ User, Profile, Admin
â€¢ RoleModel, Permission, RolePermission
â€¢ AdminSession, WebAuthnCredential
â€¢ AdminTwoFactorAuth, MfaChallenge

KYC (Verification):
â€¢ KycSession, KycProfile, KycDocument
â€¢ KycProvider, KycFormField, KycFormData
â€¢ KycLevel, UserKycLevel, LimitsMatrix

Financial (Orders & Payments):
â€¢ Order, OrderStatusHistory
â€¢ PayIn, PayOut, PaymentProof
â€¢ PaymentMethod, PaymentAccount
â€¢ PlatformWallet, UserWallet
â€¢ Transaction

Assets (Currencies & Rates):
â€¢ Currency, FiatCurrency, TradingPair
â€¢ RateProvider, RateSnapshot, RateHistory
â€¢ ManualRate, FeeProfile

Blockchain:
â€¢ BlockchainNetwork, CurrencyBlockchainNetwork

Audit & Logging:
â€¢ AdminAuditLog, UserAuditLog, AuditLog
â€¢ SystemLog, MfaEvent, EmailLog

Configuration:
â€¢ SystemSettings, IntegrationSetting
â€¢ PspConnector, BankDetails
â€¢ LegalDocument, DocumentTemplate
â€¢ WidgetConfig, OrderStatusConfig

Automation:
â€¢ Workflow, WorkflowExecution

Security:
â€¢ ApiKey, ApiKeyUsage
â€¢ IPBlacklist, SessionRevocation
â€¢ OneTimeAuthToken
```

---

## ğŸ’» Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¡Ñ‚ĞµĞº

### Frontend

| Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ | Ğ’ĞµÑ€ÑĞ¸Ñ | ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ |
|------------|--------|------------|
| **Next.js** | 14.2 | App Router, RSC, Server Actions |
| **React** | 18.3 | UI framework |
| **TypeScript** | 5.5 | Strict mode, Ğ¿Ğ¾Ğ»Ğ½Ğ°Ñ Ñ‚Ğ¸Ğ¿Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ |
| **Tailwind CSS** | 3.4 | Utility-first styling |
| **shadcn/ui** | Latest | 50+ UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ² |
| **Radix UI** | Latest | Headless UI primitives |
| **React Hook Form** | 7.x | Form management |
| **Zod** | 3.x | Schema validation |
| **TanStack Table** | 8.x | Data tables |
| **Recharts** | 2.x | Charts Ğ¸ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸ |
| **Lexical** | Latest | Rich text editor |
| **React Flow** | 11.x | Workflow canvas |
| **SimpleWebAuthn** | 9.x | Passkeys implementation |

### Backend

| Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ | Ğ’ĞµÑ€ÑĞ¸Ñ | ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ |
|------------|--------|------------|
| **Node.js** | 20+ | Runtime |
| **PostgreSQL** | 15 | Primary database |
| **Prisma** | 5.22 | ORM, migrations |
| **NextAuth.js** | 5.0-beta | Authentication |
| **bcryptjs** | 2.x | Password hashing |
| **jsonwebtoken** | 9.x | JWT tokens |
| **crypto** | Native | AES-256-GCM encryption |
| **json-logic-js** | 2.x | Rule engine |
| **zod** | 3.x | Runtime validation |

### Infrastructure

| Ğ¡ĞµÑ€Ğ²Ğ¸Ñ | ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ | Status |
|--------|------------|--------|
| **Vercel** | Hosting, Edge Functions, CI/CD | âœ… Production |
| **Supabase** | PostgreSQL database, Auth helpers | âœ… Production |
| **Vercel Blob** | File storage (documents, images) | âœ… Production |
| **GitHub** | Version control, Actions | âœ… Production |

### ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¸ ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°

| Ğ¡ĞµÑ€Ğ²Ğ¸Ñ | ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ | Status |
|--------|------------|--------|
| **Sentry** | Error tracking | ğŸ”„ Ready |
| **LogTail** | Log aggregation | ğŸ”„ Ready |
| **Vercel Analytics** | Performance monitoring | âœ… Active |
| **Vercel Speed Insights** | Web vitals | âœ… Active |

---

## ğŸ” Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ Ğ¸ ĞšĞ¾Ğ¼Ğ¿Ğ»Ğ°ĞµĞ½Ñ

### Authentication & Authorization

```typescript
// Dual Authentication System

// 1. Client Auth (auth-client.ts)
- NextAuth v5 Credentials Provider
- Email/Password
- JWT sessions (30 Ğ´Ğ½ĞµĞ¹)
- 2FA support (TOTP)
- Session revocation
- Failed login tracking

// 2. Admin Auth (auth-admin.ts)
- Separate NextAuth instance
- Email/Password + SSO ready
- WebAuthn/Passkeys (FIDO2)
- TOTP (Google Authenticator)
- Backup codes (10 Ğ¾Ğ´Ğ½Ğ¾Ñ€Ğ°Ğ·Ğ¾Ğ²Ñ‹Ñ… ĞºĞ¾Ğ´Ğ¾Ğ²)
- Step-up MFA Ğ´Ğ»Ñ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹
- Emergency break-glass access
- Session timeout (configurable)
```

### Encryption & Data Protection

```typescript
// Password Security
- bcrypt hashing (10 rounds)
- Password strength validation (min 8 chars, uppercase, lowercase, number)
- Password history tracking
- Secure password reset flow

// Data Encryption
- AES-256-GCM Ğ´Ğ»Ñ API keys Ğ¸ sensitive data
- TLS 1.3 Ğ´Ğ»Ñ Ğ²ÑĞµÑ… ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ğ¹
- Encrypted database backups
- PII data encryption at rest

// API Security
- HMAC signatures Ğ´Ğ»Ñ webhooks
- Rate limiting (100 req/hour Ğ´Ğ»Ñ Public API)
- IP whitelisting Ğ´Ğ»Ñ admin panel
- CORS configuration
- CSRF protection (NextAuth built-in)
```

### Compliance Features

```typescript
// GDPR Compliance
âœ“ Data retention policies
âœ“ Right to erasure (delete account)
âœ“ Data portability (export all data)
âœ“ Consent management
âœ“ Privacy policy enforcement
âœ“ Cookie consent

// AML/KYC Compliance
âœ“ Mandatory KYC for all users
âœ“ Document verification (AI-powered)
âœ“ PEP screening
âœ“ Sanctions lists check
âœ“ Source of funds verification
âœ“ Transaction monitoring
âœ“ Suspicious activity reporting

// Audit Trail
âœ“ Immutable logs (SHA-256 checksum)
âœ“ Who, What, When, Where, Why tracking
âœ“ Change history (before/after diff)
âœ“ MFA verification tracking
âœ“ API call logging (request/response/timing)
âœ“ Long-term retention (7 years)
```

### Security Testing

```bash
# Automated Security Checks
âœ“ Dependency vulnerability scanning (npm audit)
âœ“ Code quality analysis (ESLint, TypeScript strict)
âœ“ SQL injection prevention (Prisma parameterized queries)
âœ“ XSS protection (React automatic escaping)
âœ“ CSRF protection (NextAuth tokens)
âœ“ Input validation (Zod schemas everywhere)
```

---

## âœ… Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ĞœĞ¾Ğ´ÑƒĞ»Ğ¸

### Core MVP âœ… (100%)

- [x] User registration & authentication
- [x] KYC verification (Sumsub + KYCAID)
- [x] Cryptocurrency purchase flow
- [x] Order management (Kanban + Table)
- [x] Admin CRM panel
- [x] Email notifications (Resend)
- [x] Real-time exchange rates (CoinGecko)
- [x] Payment proof upload
- [x] Transaction tracking

### Security âœ… (100%)

- [x] Password hashing (bcrypt, 10 rounds)
- [x] JWT sessions (30 days)
- [x] 2FA (TOTP via Google Authenticator)
- [x] WebAuthn/Passkeys (FIDO2)
- [x] Step-up MFA Ğ´Ğ»Ñ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹
- [x] API key authentication
- [x] Rate limiting (100 req/hour)
- [x] CSRF protection (NextAuth)
- [x] XSS protection (React)
- [x] SQL injection protection (Prisma)
- [x] Input validation (Zod everywhere)

### CRM Features âœ… (100%)

- [x] Full CRUD Ğ´Ğ»Ñ Ğ²ÑĞµÑ… ÑĞ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ² (15+)
- [x] Resource management UI
- [x] Integration management (20+ providers)
- [x] User management (view, block, activity)
- [x] Admin management (IAM system)
- [x] Role & Permission system (RBAC)
- [x] Comprehensive audit logging
- [x] Statistics dashboard (real-time)
- [x] Advanced filters & search
- [x] Bulk operations
- [x] Export to CSV/Excel

### Advanced Features âœ… (100%)

- [x] Kanban board Ğ´Ğ»Ñ Ğ·Ğ°ĞºĞ°Ğ·Ğ¾Ğ² (drag-and-drop)
- [x] Document upload (Vercel Blob)
- [x] Public API v1 (REST)
- [x] Dynamic KYC forms (configurable)
- [x] Payment accounts management
- [x] Platform wallets (multi-currency)
- [x] Manual rate overrides
- [x] Legal documents editor (Lexical)
- [x] Session management (view, revoke)
- [x] IP blacklisting
- [x] Email templates (customizable)
- [x] Webhook processing (HMAC verified)

### Identity & Access Management âœ… (100%)

- [x] Separate Admin model (vs User)
- [x] RBAC system (7 predefined roles)
- [x] Granular permissions (resource.action)
- [x] WebAuthn/Passkeys (FIDO2)
- [x] Step-up MFA (Ğ´Ğ»Ñ approval operations)
- [x] Separation of Duties (SoD)
- [x] Emergency break-glass access
- [x] Session revocation
- [x] Admin activity tracking (audit log)
- [x] MFA recovery codes

### KYC Integration âœ… (100%)

- [x] Multi-provider architecture (Sumsub, KYCAID)
- [x] WebSDK integration (iframe + modal)
- [x] Document upload Ñ camera capture
- [x] Liveness detection (face matching)
- [x] Resubmission flow (RETRY/FINAL)
- [x] Webhook processing (real-time updates)
- [x] QR code Ğ´Ğ»Ñ mobile verification
- [x] API call logging (full request/response)
- [x] Reject label mapping (40+ labels)
- [x] Problematic document detection
- [x] Admin review interface

### Workflow Automation âœ… (100%)

- [x] Visual no-code canvas (React Flow)
- [x] Node types: Trigger, Condition, Action
- [x] Graph-to-JSON-Logic compiler
- [x] Runtime execution engine
- [x] Test panel Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ»Ğ°Ğ´ĞºĞ¸
- [x] Execution history tracking
- [x] Priority ordering
- [x] Error handling & retry
- [x] Database integration (Workflow, WorkflowExecution)
- [x] API endpoints (CRUD + test + execute)

---

## ğŸ”Œ Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸

### KYC Providers

| ĞŸÑ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€ | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ | Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ | Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ |
|-----------|--------|---------|--------------|
| **Sumsub** | âœ… Production | Document verification, Liveness check, WebSDK, Webhooks | [Sumsub Docs](https://docs.sumsub.com) |
| **KYCAID** | âœ… Production | Document verification, Forms, Webhooks | [KYCAID Docs](https://docs.kycaid.com) |

**Capabilities:**
- Document upload (passport, ID card, driver license)
- Proof of address verification
- Liveness detection (selfie with face matching)
- AML/PEP screening
- Real-time status updates via webhooks
- Multi-language support
- Mobile-optimized (QR codes for SDK)

### Exchange Rate Providers

| ĞŸÑ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€ | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ | ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ | API Limit |
|-----------|--------|------------|-----------|
| **CoinGecko** | âœ… Production | Real-time | Free tier: 50 calls/min |
| **Kraken** | ğŸ”„ Ready | Real-time | Public API: unlimited |
| **Binance** | ğŸ”„ Ready | Real-time | Public API: 1200/min |

**Features:**
- Historical rate tracking
- Rate caching (5 minute TTL)
- Manual rate overrides
- Multi-source fallback
- Rate snapshots Ğ´Ğ»Ñ Ğ¾Ñ‚Ñ‡ĞµÑ‚Ğ½Ğ¾ÑÑ‚Ğ¸

### Email Service

| ĞŸÑ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€ | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ | Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ |
|-----------|--------|---------|
| **Resend** | âœ… Production | Transactional emails, Templates, Analytics |

**Email Types:**
- Welcome email (registration)
- KYC approved/rejected
- Order confirmation
- Payment received
- Crypto sent
- Password reset
- 2FA setup
- Admin notifications

### Blockchain Providers

| ĞŸÑ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€ | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ | Networks | Use Case |
|-----------|--------|----------|----------|
| **Tatum** | ğŸ”„ Ready | BTC, ETH, SOL, 40+ | Wallet generation, Transaction monitoring |
| **Infura** | ğŸ”„ Ready | Ethereum, Polygon | RPC access |
| **QuickNode** | ğŸ”„ Ready | Multi-chain | High-performance RPC |

### Storage

| ĞŸÑ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€ | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ | Use Case |
|-----------|--------|----------|
| **Vercel Blob** | âœ… Production | Documents, Payment proofs, KYC docs, Images |

### Monitoring

| ĞŸÑ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€ | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ | Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ |
|-----------|--------|---------|
| **Sentry** | ğŸ”„ Ready | Error tracking, Performance monitoring |
| **LogTail** | ğŸ”„ Ready | Log aggregation, Search |
| **Vercel Analytics** | âœ… Active | Traffic, Performance, Web Vitals |

---

## ğŸ—ºï¸ Ğ”Ğ¾Ñ€Ğ¾Ğ¶Ğ½Ğ°Ñ ĞšĞ°Ñ€Ñ‚Ğ°

### âœ… Phase 1: MVP (COMPLETED)

**Core Features:**
- [x] User authentication & registration
- [x] KYC verification (mandatory)
- [x] Crypto purchase flow (BTC, ETH, USDT, SOL)
- [x] Bank transfer payments (SEPA/SWIFT)
- [x] Admin order management
- [x] Email notifications
- [x] Basic CRM dashboard

**Timeline:** Q1 2025  
**Status:** âœ… **DEPLOYED TO PRODUCTION**

---

### âœ… Phase 1.5: Enterprise Features (COMPLETED)

**Advanced CRM:**
- [x] Full CRUD Ğ´Ğ»Ñ Ğ²ÑĞµÑ… ÑĞ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ²
- [x] Kanban board Ğ´Ğ»Ñ Ğ·Ğ°ĞºĞ°Ğ·Ğ¾Ğ²
- [x] Advanced filters & bulk operations
- [x] Resource management UI
- [x] Integration management

**Security & Compliance:**
- [x] Admin IAM system (separate auth)
- [x] RBAC & granular permissions
- [x] WebAuthn/Passkeys
- [x] Step-up MFA
- [x] Comprehensive audit logging

**Advanced Features:**
- [x] Public API v1
- [x] Dynamic KYC forms
- [x] Manual rate overrides
- [x] Legal document editor
- [x] Workflow automation engine

**Timeline:** Q2-Q3 2025  
**Status:** âœ… **DEPLOYED TO PRODUCTION**

---

### ğŸ”„ Phase 2: Automation & Scale (Q4 2025)

**Payment Automation:**
- [ ] PSP Integration (Stripe, Revolut Business)
- [ ] Auto-confirm bank transfers (API banking)
- [ ] Auto-send crypto (Tatum integration)
- [ ] Payment reconciliation automation

**Crypto Selling:**
- [ ] Sell flow (client sends crypto â†’ receives fiat)
- [ ] PayIn crypto monitoring
- [ ] Auto-detect incoming transactions
- [ ] PayOut fiat to bank accounts

**Advanced Features:**
- [ ] Multi-signature wallets
- [ ] Cold storage integration
- [ ] Advanced risk management
- [ ] Automated compliance reporting

**Timeline:** Q4 2025  
**Status:** ğŸš§ **IN PLANNING**

---

### ğŸ¯ Phase 3: White-Label & Expansion (2026)

**White-Label Widget:**
- [ ] Embeddable iframe widget
- [ ] Partner API (create users, track orders)
- [ ] Custom branding per partner
- [ ] Revenue sharing model
- [ ] Referral program

**Geographic Expansion:**
- [ ] Additional fiat currencies (USD, GBP, CHF)
- [ ] More KYC providers (Onfido, Jumio)
- [ ] Local payment methods per region
- [ ] Multi-language support (10+ languages)

**Advanced Trading:**
- [ ] Recurring purchases (DCA)
- [ ] Price alerts
- [ ] Limit orders
- [ ] OTC desk Ğ´Ğ»Ñ ĞºÑ€ÑƒĞ¿Ğ½Ñ‹Ñ… Ğ¾Ğ±ÑŠĞµĞ¼Ğ¾Ğ²

**Timeline:** 2026  
**Status:** ğŸ¯ **ROADMAP**

---

## ğŸš€ Deployment

### Production Instances

| Instance | URL | Database | Status |
|----------|-----|----------|--------|
| **Bitflow** | [app.bitflow.biz](https://app.bitflow.biz) | Supabase (EU) | âœ… Live |
| **PayPlanet** | [app.payplanet.pl](https://app.payplanet.pl) | Supabase (EU) | âœ… Live |

### Infrastructure

```yaml
Hosting: Vercel (Edge Network)
  - Region: EU (Frankfurt)
  - Edge Functions: 50ms cold start
  - SSL: Automatic (Let's Encrypt)
  - CDN: Global (300+ locations)
  - Auto-scaling: Horizontal

Database: Supabase (PostgreSQL 15)
  - Primary: EU Central (Frankfurt)
  - Connection pooling: PgBouncer
  - Backups: Daily (30 day retention)
  - Point-in-time recovery: Yes
  - SSL: Required
  - Max connections: 1000

Storage: Vercel Blob
  - CDN: Cloudflare
  - Max file size: 500MB
  - Retention: Unlimited
  - Access: Public with signed URLs

CI/CD: GitHub Actions
  - Auto-deploy on push to main
  - Preview deployments Ğ´Ğ»Ñ PRs
  - TypeScript check
  - Linting (ESLint)
  - Unit tests
  - Build time: ~3 minutes
```

### Environment Variables

```bash
# Core
NEXT_PUBLIC_APP_URL=https://app.bitflow.biz
DATABASE_URL=postgresql://...
NEXTAUTH_SECRET=xxx
NEXTAUTH_URL=https://app.bitflow.biz

# KYC Providers
KYCAID_API_KEY=xxx
KYCAID_FORM_ID=xxx
SUMSUB_APP_TOKEN=xxx
SUMSUB_SECRET_KEY=xxx
SUMSUB_LEVEL_NAME=basic-kyc-level

# Exchange Rates
COINGECKO_API_KEY=xxx

# Email
RESEND_API_KEY=xxx
RESEND_FROM_EMAIL=noreply@bitflow.biz

# Storage
BLOB_READ_WRITE_TOKEN=xxx

# Security
ENCRYPTION_KEY=xxx (AES-256)
WEBHOOK_SECRET=xxx

# Monitoring (Optional)
SENTRY_DSN=xxx
LOGTAIL_SOURCE_TOKEN=xxx
```

### Performance Metrics

```
Lighthouse Score (Desktop):
- Performance: 98/100
- Accessibility: 100/100
- Best Practices: 100/100
- SEO: 100/100

Core Web Vitals:
- LCP (Largest Contentful Paint): 1.2s âœ…
- FID (First Input Delay): 45ms âœ…
- CLS (Cumulative Layout Shift): 0.02 âœ…

API Response Times (P95):
- Database queries: 15ms
- KYC API calls: 250ms
- Rate API calls: 150ms
- Authentication: 80ms
```

---

## ğŸ“š Documentation

### Technical Documentation

| Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | Ğ¡ÑÑ‹Ğ»ĞºĞ° |
|----------|----------|--------|
| **API Reference** | REST API v1 documentation | [API Docs](./docs/current/API_DOCUMENTATION.md) |
| **Database Schema** | Prisma schema, ERD diagrams | [Schema](./prisma/schema.prisma) |
| **Deployment Guide** | Production deployment steps | [Deployment](./docs/current/DEPLOYMENT.md) |
| **Security Guide** | Security best practices | [Security](./docs/current/INTEGRATION_SECURITY.md) |
| **Testing Guide** | Testing strategies | [Testing](./docs/current/TESTING.md) |

### Architecture Documentation

| Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|----------|----------|
| **Project Summary** | Comprehensive overview | [Summary](./docs/archive/2025-Q1/PROJECT_COMPREHENSIVE_SUMMARY.md) |
| **KYC Architecture** | Universal KYC integration | [KYC](./docs/archive/2025-Q1/KYC_UNIVERSAL_ARCHITECTURE.md) |
| **Audit Architecture** | Logging system design | [Audit](./docs/archive/2025-Q1/AUDIT_LOGGING_ARCHITECTURE.md) |
| **IAM Architecture** | Identity & Access Management | [IAM](./docs/archive/2025-Q1/ADMIN_IAM_ARCHITECTURE.md) |
| **Workflow Engine** | Automation system | [Workflow](./WORKFLOW_ENGINE_SUMMARY.md) |

### User Guides

| Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ | ĞÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|----------|-----------|----------|
| **User Guide** | Clients | How to buy crypto, KYC process | Coming Soon |
| **Admin Guide** | Admins | CRM usage, order management | Coming Soon |
| **API Guide** | Developers | Integration examples | Coming Soon |

---

## ğŸ“Š Statistics

### Code Metrics

```
Total Lines of Code:    ~150,000+
TypeScript Files:       800+
React Components:       200+
API Endpoints:          100+
Database Models:        40+
Prisma Schema:          2,000+ lines
Test Coverage:          85%+ (critical paths)
```

### Database

```
Tables:                 40+
Indexes:                100+
Enum Types:             15+
Total Relations:        80+
Migrations:             50+
```

### Features

```
User Features:          30+
Admin Features:         100+
Integrations:           20+
Email Templates:        15+
Document Types:         10+
Currencies:             4 crypto + 2 fiat (expandable)
Supported Languages:    2 (EN, PL)
```

---

## ğŸ† Key Achievements

âœ… **Production Ready** - Successfully deployed and running in production  
âœ… **Enterprise Security** - Multi-factor auth, Passkeys, Step-up MFA, comprehensive audit  
âœ… **Compliance First** - Mandatory KYC, AML screening, regulatory reporting ready  
âœ… **Professional CRM** - 100+ admin features, full CRUD, advanced filters  
âœ… **Scalable Architecture** - Modular design, clean code, 85%+ test coverage  
âœ… **Integration Ecosystem** - 20+ providers ready, webhook processing, API monitoring  
âœ… **Advanced Automation** - Visual workflow engine, JSON Logic execution  
âœ… **Developer Experience** - TypeScript strict mode, comprehensive docs, clear structure  

---

## ğŸ¤ Support & Contact

### Technical Support

- ğŸ“§ Email: [tech@apricode.agency](mailto:tech@apricode.agency)
- ğŸ’¬ Telegram: [@apricode_support](https://t.me/apricode_support)
- ğŸ“š Documentation: [docs.apricode.agency](https://docs.apricode.agency)

### Business Inquiries

- ğŸ“§ Email: [business@apricode.agency](mailto:business@apricode.agency)
- ğŸŒ Website: [apricode.agency](https://apricode.agency)

---

## ğŸ“„ License

**Proprietary License** - Â© 2025 Apricode Agency. All rights reserved.

This software is proprietary and confidential. Unauthorized copying, modification, distribution, or use of this software, via any medium, is strictly prohibited without express written permission from Apricode Agency.

---

<div align="center">

**Built with â¤ï¸ by [Apricode Agency](https://apricode.agency)**

[![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![Next.js](https://img.shields.io/badge/Next.js-000000?style=for-the-badge&logo=next.js&logoColor=white)](https://nextjs.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-316192?style=for-the-badge&logo=postgresql&logoColor=white)](https://www.postgresql.org/)
[![Vercel](https://img.shields.io/badge/Vercel-000000?style=for-the-badge&logo=vercel&logoColor=white)](https://vercel.com/)

</div>

