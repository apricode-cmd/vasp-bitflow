# Order Status Flow - –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –õ–æ–≥–∏–∫–∞

## üìä Order Status Flow

### 1Ô∏è‚É£ PENDING
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ù–æ–≤—ã–π –∑–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω, –æ–∂–∏–¥–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–π –∫–ª–∏–µ–Ω—Ç–∞

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã:**
- ‚Üí `PAYMENT_PENDING` - –ø–æ–∫–∞–∑–∞–ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –∫–ª–∏–µ–Ω—Ç—É
- ‚Üí `PAYMENT_RECEIVED` - –∫–ª–∏–µ–Ω—Ç —Å—Ä–∞–∑—É –∑–∞–≥—Ä—É–∑–∏–ª proof (skip PAYMENT_PENDING)
- ‚Üí `PROCESSING` - –∞–¥–º–∏–Ω –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —ç—Ç–∞–ø—ã (—Ä–µ–¥–∫–æ)
- ‚Üí `CANCELLED` - –æ—Ç–º–µ–Ω–∞ –∑–∞–∫–∞–∑–∞

**–î–µ–π—Å—Ç–≤–∏—è:** –ù–µ—Ç

---

### 2Ô∏è‚É£ PAYMENT_PENDING
**–û–ø–∏—Å–∞–Ω–∏–µ:** –†–µ–∫–≤–∏–∑–∏—Ç—ã –ø–æ–∫–∞–∑–∞–Ω—ã –∫–ª–∏–µ–Ω—Ç—É, –æ–∂–∏–¥–∞–µ–º –æ–ø–ª–∞—Ç—É

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã:**
- ‚Üí `PAYMENT_RECEIVED` - –∫–ª–∏–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∏–ª proof –æ–ø–ª–∞—Ç—ã
- ‚Üí `PROCESSING` - –∞–¥–º–∏–Ω –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –±–µ–∑ proof (—Ä–µ–¥–∫–æ)
- ‚Üí `CANCELLED` - –≤—Ä–µ–º—è –∏—Å—Ç–µ–∫–ª–æ –∏–ª–∏ –æ—Ç–º–µ–Ω–∞

**–î–µ–π—Å—Ç–≤–∏—è:** –ù–µ—Ç

---

### 3Ô∏è‚É£ PAYMENT_RECEIVED ‚ö°
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–ª–∏–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∏–ª proof, –¥–µ–Ω—å–≥–∏ –ø–æ–ª—É—á–µ–Ω—ã

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã:**
- ‚Üí `PROCESSING` - –∞–¥–º–∏–Ω –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª –ø–ª–∞—Ç—ë–∂
- ‚Üí `CANCELLED` - –ø–ª–∞—Ç—ë–∂ –Ω–µ –ø—Ä–æ—à—ë–ª / fraud

**–î–µ–π—Å—Ç–≤–∏—è:** 
- ‚úÖ **–°–æ–∑–¥–∞—Ç—å PayIn** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
- –ó–∞–ø–æ–ª–Ω–∏—Ç—å:
  - Sender Name
  - Received Amount
  - Payment Method
  - Transaction Reference
  - Bank Details

**Dialog:** `OrderTransitionDialog` —Å —Ñ–æ—Ä–º–æ–π PayIn

---

### 4Ô∏è‚É£ PROCESSING
**–û–ø–∏—Å–∞–Ω–∏–µ:** PayIn verified, –≥–æ—Ç–æ–≤–∏–º –∫—Ä–∏–ø—Ç—É –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã:**
- ‚Üí `COMPLETED` - –∫—Ä–∏–ø—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–ª–∏–µ–Ω—Ç—É
- ‚Üí `CANCELLED` - –ø—Ä–æ–±–ª–µ–º–∞ —Å –æ—Ç–ø—Ä–∞–≤–∫–æ–π

**–î–µ–π—Å—Ç–≤–∏—è:** –ù–µ—Ç (–∏–ª–∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å PayIn –µ—Å–ª–∏ –Ω–µ –±—ã–ª–æ)

---

### 5Ô∏è‚É£ COMPLETED ‚ö°
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö—Ä–∏–ø—Ç–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–ª–∏–µ–Ω—Ç—É

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã:** –ù–µ—Ç (terminal status)

**–î–µ–π—Å—Ç–≤–∏—è:**
- ‚úÖ **–°–æ–∑–¥–∞—Ç—å PayOut** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
- –ó–∞–ø–æ–ª–Ω–∏—Ç—å:
  - Destination Address
  - Amount
  - Cryptocurrency
  - Network
  - Transaction Hash
  - Payment Method

**Dialog:** `OrderTransitionDialog` —Å —Ñ–æ—Ä–º–æ–π PayOut

---

### 6Ô∏è‚É£ CANCELLED
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ó–∞–∫–∞–∑ –æ—Ç–º–µ–Ω—ë–Ω

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã:** –ù–µ—Ç (terminal status)

**–î–µ–π—Å—Ç–≤–∏—è:** –ù–µ—Ç

---

### 7Ô∏è‚É£ EXPIRED
**–û–ø–∏—Å–∞–Ω–∏–µ:** –í—Ä–µ–º—è –∑–∞–∫–∞–∑–∞ –∏—Å—Ç–µ–∫–ª–æ

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã:**
- ‚Üí `PENDING` - –º–æ–∂–Ω–æ —Ä–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å

**–î–µ–π—Å—Ç–≤–∏—è:** –ù–µ—Ç

---

### 8Ô∏è‚É£ FAILED
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ó–∞–∫–∞–∑ –ø—Ä–æ–≤–∞–ª–∏–ª—Å—è (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞)

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã:**
- ‚Üí `PENDING` - –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è —Å–Ω–æ–≤–∞
- ‚Üí `CANCELLED` - –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–∞—è –æ—Ç–º–µ–Ω–∞

**–î–µ–π—Å—Ç–≤–∏—è:** –ù–µ—Ç

---

### 9Ô∏è‚É£ REFUNDED
**–û–ø–∏—Å–∞–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤ –∫–ª–∏–µ–Ω—Ç—É

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã:** –ù–µ—Ç (terminal status)

**–î–µ–π—Å—Ç–≤–∏—è:** –ù–µ—Ç

---

## üîÑ –¢–∏–ø–∏—á–Ω—ã–π Flow

### Happy Path (—É—Å–ø–µ—à–Ω—ã–π –∑–∞–∫–∞–∑):
```
PENDING 
  ‚Üì
PAYMENT_PENDING (—Ä–µ–∫–≤–∏–∑–∏—Ç—ã –ø–æ–∫–∞–∑–∞–Ω—ã)
  ‚Üì
PAYMENT_RECEIVED (proof –∑–∞–≥—Ä—É–∂–µ–Ω) ‚Üí üìù –°–æ–∑–¥–∞—Ç—å PayIn
  ‚Üì
PROCESSING (PayIn verified)
  ‚Üì
COMPLETED (–∫—Ä–∏–ø—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞) ‚Üí üìù –°–æ–∑–¥–∞—Ç—å PayOut
```

### Fast Path (–∫–ª–∏–µ–Ω—Ç –±—ã—Å—Ç—Ä–æ –æ–ø–ª–∞—Ç–∏–ª):
```
PENDING
  ‚Üì
PAYMENT_RECEIVED (—Å—Ä–∞–∑—É –∑–∞–≥—Ä—É–∑–∏–ª proof) ‚Üí üìù –°–æ–∑–¥–∞—Ç—å PayIn
  ‚Üì
PROCESSING
  ‚Üì
COMPLETED ‚Üí üìù –°–æ–∑–¥–∞—Ç—å PayOut
```

---

## ‚ö° –ö–æ–≥–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è OrderTransitionDialog

| –ü–µ—Ä–µ—Ö–æ–¥ | Dialog | –ü—Ä–∏—á–∏–Ω–∞ |
|---------|--------|---------|
| ‚Üí PAYMENT_RECEIVED | ‚úÖ PayIn Form | –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å PayIn |
| ‚Üí COMPLETED | ‚úÖ PayOut Form | –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å PayOut |
| ‚Üí –û—Å—Ç–∞–ª—å–Ω—ã–µ | ‚ùå | –ü—Ä–æ—Å—Ç–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ |

---

## üìù PayIn vs PayOut

### PayIn (–≤—Ö–æ–¥—è—â–∏–π –ø–ª–∞—Ç—ë–∂ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞):
- **–ö–æ–≥–¥–∞:** PAYMENT_RECEIVED
- **–ß—Ç–æ:** –ö–ª–∏–µ–Ω—Ç –∑–∞–ø–ª–∞—Ç–∏–ª –Ω–∞–º
- **–ü–æ–ª—è:** 
  - Sender Name
  - Received Amount (EUR/PLN)
  - Payment Method (SEPA/SWIFT)
  - Transaction Reference
  - Bank Account

### PayOut (–∏—Å—Ö–æ–¥—è—â–∏–π –ø–ª–∞—Ç—ë–∂ –∫–ª–∏–µ–Ω—Ç—É):
- **–ö–æ–≥–¥–∞:** COMPLETED
- **–ß—Ç–æ:** –ú—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –∫—Ä–∏–ø—Ç—É –∫–ª–∏–µ–Ω—Ç—É
- **–ü–æ–ª—è:**
  - Destination Address
  - Amount (BTC/ETH/USDT/SOL)
  - Network (Mainnet/ERC20/etc)
  - Transaction Hash
  - Payment Method (Wallet)

---

## üéØ –í–∞–∂–Ω–æ!

1. **PayIn —Å–æ–∑–¥–∞—ë—Ç—Å—è –¢–û–õ–¨–ö–û –ø—Ä–∏ PAYMENT_RECEIVED**
2. **PayOut —Å–æ–∑–¥–∞—ë—Ç—Å—è –¢–û–õ–¨–ö–û –ø—Ä–∏ COMPLETED**
3. **OrderTransitionDialog –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–∏—Ö –¥–≤—É—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤**
4. **–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã - –ø—Ä–æ—Å—Ç–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –±–µ–∑ –¥–∏–∞–ª–æ–≥–∞**

---

## üõ°Ô∏è –í–∞–ª–∏–¥–∞—Ü–∏—è

- ‚úÖ –ù–µ–ª—å–∑—è –ø–µ—Ä–µ–π—Ç–∏ –≤ —Å—Ç–∞—Ç—É—Å –µ—Å–ª–∏ –æ–Ω –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (STATUS_TRANSITIONS)
- ‚úÖ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è –∏–∑ dropdown
- ‚úÖ Terminal —Å—Ç–∞—Ç—É—Å—ã (COMPLETED, CANCELLED, REFUNDED) - –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å
- ‚úÖ Expired –º–æ–∂–Ω–æ —Ä–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å ‚Üí PENDING

